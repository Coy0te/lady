DROP DATABASE IF EXISTS bdd_lady;

CREATE DATABASE bdd_lady CHARACTER SET 'utf8';
use bdd_lady;

CREATE TABLE  bdd_lady.mode_expedition (
  id INT( 11 ) NOT NULL AUTO_INCREMENT ,  
  modeExpedition VARCHAR( 100 ) NOT NULL ,
  PRIMARY KEY ( id )
) 
ENGINE = INNODB;
INSERT INTO mode_expedition (modeExpedition)  VALUES( "圆通 (Yuan Tong)" );
INSERT INTO mode_expedition (modeExpedition)  VALUES( "顺丰 (Shun Feng)" );


CREATE TABLE  bdd_lady.mode_paiement (
  id INT( 11 ) NOT NULL AUTO_INCREMENT ,  
  modePaiement VARCHAR( 100 ) NOT NULL ,
  PRIMARY KEY ( id )
) 
ENGINE = INNODB;
INSERT INTO mode_paiement (modePaiement)  VALUES( "农行 (Nong Hang)" );
INSERT INTO mode_paiement (modePaiement)  VALUES( "工行 (Gong Hang)" );
INSERT INTO mode_paiement (modePaiement)  VALUES( "建行 (Jian Hang)" );
INSERT INTO mode_paiement (modePaiement)  VALUES( "中信 (Zhong Xin)" );
INSERT INTO mode_paiement (modePaiement)  VALUES( "支付宝 (Zhi Fu Bao)" );

CREATE TABLE  bdd_lady.produit (
  id INT( 11 ) NOT NULL AUTO_INCREMENT ,  
  nom VARCHAR( 100 ) NOT NULL, 
  taille VARCHAR( 10 ) ,
  PRIMARY KEY ( id )
) 
ENGINE = INNODB;


CREATE TABLE  bdd_lady.client (
  id INT( 11 ) NOT NULL AUTO_INCREMENT ,  
  pseudo VARCHAR( 100 ) NOT NULL ,  
  portable VARCHAR( 100 ) NOT NULL ,  
  adresse TEXT NOT NULL ,  
  taille INT( 4 ) ,
  poids INT( 4 ) ,
  tourDePoitrine INT( 4 ) ,
  tourDeTaille INT( 4 ) ,
  pointure INT( 4 ) ,
  modePaiement INT( 11 ) ,
  dateCreation DATETIME NOT NULL ,  
  PRIMARY KEY ( id ) ,
  UNIQUE ( portable ) , 
  CONSTRAINT fk_mode_paiement_client FOREIGN KEY (modePaiement) REFERENCES mode_paiement(id)
) 
ENGINE = INNODB;


CREATE TABLE  bdd_lady.commande (
  id INT( 11 ) NOT NULL AUTO_INCREMENT ,  
  client INT( 11 ) NOT NULL ,  
  prixCoutant INT( 8 ) NOT NULL ,  
  prixFacture INT( 8 ) NOT NULL ,  
  modePaiement INT( 11 ) ,
  datePaiement DATETIME ,  
  dateCommandeProduits DATETIME ,  
  dateReceptionProduits DATETIME ,  
  dateExpeditionProduits DATETIME ,  
  modeExpedition INT( 11 ) ,
  PRIMARY KEY ( id ) ,
  CONSTRAINT fk_mode_paiement_commande FOREIGN KEY (modePaiement) REFERENCES mode_paiement(id) ,
  CONSTRAINT fk_mode_expedition_commande FOREIGN KEY (modeExpedition) REFERENCES mode_expedition(id) ,
  CONSTRAINT fk_client_commande FOREIGN KEY (client) REFERENCES client(id)
) 
ENGINE = INNODB;
